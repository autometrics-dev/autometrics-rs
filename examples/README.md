# Autometrics Examples

This directory contains various examples showing off how to use different autometrics features and integrations.

You can run each of the examples with:
```shell
cargo run --package example-{name of example}
```

## Basic Examples

- [axum](./axum) - Use autometrics to instrument HTTP handlers
- [custom-metrics](./custom-metrics/) - Define your own custom metrics alongside the ones generated by autometrics (using any of the metrics collection crates)
- [exemplars-tracing](./exemplars-tracing/) - Use fields from `tracing::Span`s as Prometheus exemplars
- [opentelemetry-push](./opentelemetry-push/) - Push metrics to an OpenTelemetry Collector via the OTLP gRPC protocol

## Full Example

Look at the [full-api](./full-api) example to see autometrics in use in an example API server built with `axum`, `thiserror`, and `tokio`.

## Prometheus

If Prometheus is installed locally, the examples may start it and configure it to scrape the example servers. You can also start Prometheus before running the examples with Docker like this:

```
# from this directory
docker run  -it -v $(pwd)/util/prometheus.yml:/prometheus/prometheus.yml --network host prom/prometheus --enable-feature=exemplar-storage
```
